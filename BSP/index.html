<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>Bethlehem Steel Plant - Buffalo NY - Site Navigation</title>
  <meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no">
  <link href="https://api.mapbox.com/mapbox-gl-js/v2.5.1/mapbox-gl.css" rel="stylesheet">
  <script src="https://api.mapbox.com/mapbox-gl-js/v2.5.1/mapbox-gl.js"></script>
  <style>
    body {
      margin: 0;
      padding: 0;
    }

    #map {
      position: fixed;
      top: 0;
      bottom: 0;
      width: 100%;
    }
    .MapLocationContainer {
      z-index: 999;
      position: fixed;
      right: 5%;
      top: 5%;
      background-color: lightgray;
      border: blue solid 2px;
      border-radius: 5px;
      inline-size: 20%;
      overflow-wrap: break-word;
      text-align: center;
    }

    #MapLocationDesc {
      white-space: pre-wrap;
    }

    #features {
      width: 27%;
      margin-left: 75%;
      font-family: sans-serif;
      overflow-y: scroll;
      background-color: #fafafa;
      /* top: -100px; */
    }

    section {
      padding: 25px 50px;
      line-height: 25px;
      border-bottom: 1px solid #ddd;
      opacity: 0.25;
      font-size: 13px;
    }

    section.active {
      opacity: 1;
    }

    section:last-child {
      border-bottom: none;
      margin-bottom: 200px;
    }

    .marker {
      background-image: url('mapbox-icon.png');
      background-size: cover;
      width: 50px;
      height: 50px;
      border-radius: 50%;
      cursor: pointer;
    }

    .slidecontainer {
      width: 75%;
      /* Width of the outside container */
      z-index: 999;
    }

    /* The slider itself */
    .slider {
      -webkit-appearance: none;
      /* Override default CSS styles */
      appearance: none;
      width: 15%;
      /* Full-width */
      height: 25px;
      /* Specified height */
      background: #d3d3d3;
      /* Grey background */
      outline: none;
      /* Remove outline */
      opacity: 0.7;
      /* Set transparency (for mouse-over effects on hover) */
      -webkit-transition: .2s;
      /* 0.2 seconds transition on hover */
      transition: opacity .2s;
      z-index: 999;
      position: fixed;
      top: 35px;
    }

    /* Mouse-over effects */
    .slider:hover {
      opacity: 1;
      /* Fully shown on mouse-over */
    }

    /* The slider handle (use -webkit- (Chrome, Opera, Safari, Edge) and -moz- (Firefox) to override default look) */
    .slider::-webkit-slider-thumb {
      -webkit-appearance: none;
      /* Override default look */
      appearance: none;
      width: 25px;
      /* Set a specific slider handle width */
      height: 25px;
      /* Slider handle height */
      background: yellow;
      /* Green background */
      cursor: pointer;
      /* Cursor on hover */
      z-index: 999;
    }

    .slider::-moz-range-thumb {
      width: 25px;
      /* Set a specific slider handle width */
      height: 25px;
      /* Slider handle height */
      background: #04AA6D;
      /* Green background */
      cursor: pointer;
      /* Cursor on hover */
      z-index: 999;
    }

    .slider2 {
      -webkit-appearance: none;
      /* Override default CSS styles */
      appearance: none;
      width: 15%;
      /* Full-width */
      height: 25px;
      /* Specified height */
      background: #d3d3d3;
      /* Grey background */
      outline: none;
      /* Remove outline */
      opacity: 0.7;
      /* Set transparency (for mouse-over effects on hover) */
      -webkit-transition: .2s;
      /* 0.2 seconds transition on hover */
      transition: opacity .2s;
      z-index: 999;
      position: fixed;
      top: 100px;
    }

    /* Mouse-over effects */
    .slider2:hover {
      opacity: 1;
      /* Fully shown on mouse-over */
    }

    /* The slider handle (use -webkit- (Chrome, Opera, Safari, Edge) and -moz- (Firefox) to override default look) */
    .slider2::-webkit-slider-thumb {
      -webkit-appearance: none;
      /* Override default look */
      appearance: none;
      width: 25px;
      /* Set a specific slider handle width */
      height: 25px;
      /* Slider handle height */
      background: yellow;
      /* Green background */
      cursor: pointer;
      /* Cursor on hover */
      z-index: 999;
    }

    .slider2::-moz-range-thumb {
      width: 25px;
      /* Set a specific slider handle width */
      height: 25px;
      /* Slider handle height */
      background: #04AA6D;
      /* Green background */
      cursor: pointer;
      /* Cursor on hover */
      z-index: 999;
    }

    .slider3 {
      -webkit-appearance: none;
      /* Override default CSS styles */
      appearance: none;
      width: 15%;
      /* Full-width */
      height: 25px;
      /* Specified height */
      background: #d3d3d3;
      /* Grey background */
      outline: none;
      /* Remove outline */
      opacity: 0.7;
      /* Set transparency (for mouse-over effects on hover) */
      -webkit-transition: .2s;
      /* 0.2 seconds transition on hover */
      transition: opacity .2s;
      z-index: 999;
      position: fixed;
      top: 165px;
    }

    /* Mouse-over effects */
    .slider3:hover {
      opacity: 1;
      /* Fully shown on mouse-over */
    }

    /* The slider handle (use -webkit- (Chrome, Opera, Safari, Edge) and -moz- (Firefox) to override default look) */
    .slider3::-webkit-slider-thumb {
      -webkit-appearance: none;
      /* Override default look */
      appearance: none;
      width: 25px;
      /* Set a specific slider handle width */
      height: 25px;
      /* Slider handle height */
      background: yellow;
      /* Green background */
      cursor: pointer;
      /* Cursor on hover */
      z-index: 999;
    }

    .slider3::-moz-range-thumb {
      width: 25px;
      /* Set a specific slider handle width */
      height: 25px;
      /* Slider handle height */
      background: #04AA6D;
      /* Green background */
      cursor: pointer;
      /* Cursor on hover */
      z-index: 999;
    }

    .textcontainer {
      position: fixed;
      font-family: Arial;
      z-index: 999;
      width: 5%;
      /* background-color: black; */
      color: yellow;
      top: -10px;
    }

    .textcontainer2 {
      position: fixed;
      font-family: Arial;
      z-index: 999;
      width: 5%;
      /* background-color: black; */
      color: yellow;
      top: 55px;
    }

    .textcontainer3 {
      position: fixed;
      font-family: Arial;
      z-index: 999;
      width: 5%;
      /* background-color: black; */
      color: yellow;
      top: 120px;
    }

    .checkbox1 {
      position: fixed;
      font-family: Arial;
      z-index: 999;
      /* background-color: black; */
      color: red;
      top: 210px;
    }

    .checkbox2 {
      position: fixed;
      font-family: Arial;
      z-index: 999;
      /* background-color: black; */
      color: orange;
      top: 250px;
    }

    .checkbox3 {
      position: fixed;
      font-family: Arial;
      z-index: 999;
      /* background-color: black; */
      color: green;
      top: 290px;
    }

    .checkbox4 {
      position: fixed;
      font-family: Arial;
      z-index: 999;
      /* background-color: black; */
      color: blue;
      top: 330px;
    }

    .checkbox6 {
      position: fixed;
      font-family: Arial;
      z-index: 999;
      /* background-color: black; */
      color: purple;
      top: 370px;
    }

    .checkbox5 {
      position: fixed;
      font-family: Arial;
      z-index: 999;
      /* background-color: black; */
      color: lightblue;
      top: 410px;
    }

    .checkbox7 {
      position: fixed;
      font-family: Arial;
      z-index: 999;
      /* background-color: black; */
      color: magenta;
      top: 450px;
    }

    .prevnext {
      position: fixed;
      font-family: Arial;
      z-index: 999;
      /* background-color: black; */
      color: magenta;
      top: 490px;
    }

  </style>
</head>

<body>

  <div class="slidecontainer">
    <input type="range" min="13" max="20" value="13.5" class="slider" id="myZoom" step="0.5">
    <p></p>
  </div>

  <div class="textcontainer">
    <h4>Zoom</h4>
  </div>>

  <div class="slidecontainer2">
    <input type="range" min="0" max="90" value="0" class="slider2" id="myPitch" step="1">
  </div>

  <div class="textcontainer2">
    <h4>Pitch</h4>
  </div>>

  <div class="slidecontainer3">
    <input type="range" min="500" max="25000" value="5000" class="slider3" id="myDuration" step="500">
  </div>

  <div class="textcontainer3">
    <h4>Speed</h4>
  </div>>

  <div class="checkbox1">
    <strong for="myCheck">1903:</strong>
    <input type="checkbox" id="my1903" onclick="layer1903Function()" checked="true">
  </div>

  <div class="checkbox2">
    <strong for="myCheck">1924:</strong>
    <input type="checkbox" id="my1924" onclick="layer1924Function()" checked="true">
  </div>

  <div class="checkbox3">
    <strong for="myCheck">1930:</strong>
    <input type="checkbox" id="my1930" onclick="layer1930Function()" checked="true">
  </div>

  <div class="checkbox4">
    <strong for="myCheck">1984:</strong>
    <input type="checkbox" id="my1984" onclick="layer1984Function()" checked="true">
  </div>

  <div class="checkbox6">
    <strong for="myCheck">2021:</strong>
    <input type="checkbox" id="my2021" onclick="layer2021Function()" checked="true">
  </div>

  <div class="checkbox5">
    <strong for="myCheck">Icons:</strong>
    <input type="checkbox" id="myIcon" onclick="iconFunction()" checked="true">
  </div>

  <div class="checkbox7">
    <strong>Free Camera:</strong>
    <input type="checkbox" id="FreeCam">
  </div>

  <div class="prevnext">
    <input type="button" id="btnprevious" value="Previous" onclick="PreviousSection()">
    <input type="button" id="btnnext" value="Next" onclick="NextSection()">
  </div>

  <script src="https://unpkg.com/three@0.126.0/build/three.min.js"></script>
  <script src="https://unpkg.com/three@0.126.0/examples/js/loaders/GLTFLoader.js"></script>

  <div id="map"></div>

  <div class="MapLocationContainer">
    <h2 id="MapLocationName">Bethlehem Steel Plant</h2>
    <p id="MapLocationDesc">The Bethlehem Steel Plant was Buffalo's biggest producer of steel from 1903 until its shutdown in late 1983. The plant
    was formerly known as Lackawanna Steel, until it became a subsidiary of Bethlehem Steel in 1922, which marked Bethlehem
    becoming the second largest steel company in the world.</p>
  </div>

  <!-- <div id="features">
    <section id="BSP" class="active">
      <h1>Bethlehem Steel Plant</h1>
      <p>
        The Bethlehem Steel Plant was Buffalo's biggest producer of steel from 1903 until its shutdown in late 1983. The plant
        was formerly known as Lackawanna Steel, until it became a subsidiary of Bethlehem Steel in 1922, which marked Bethlehem
        becoming the second largest steel company in the world.
      </p>
    </section>
    <section id="BFB">
      <h3>Blast Furnace B</h3>
      <p>
        A blast furnace is used to smelt a variety of industrial metals.
      </p>
    </section>
    <section id="BFC">
      <h3>Blast Furnace C</h3>
      <p>
        The blast furnaces in Bethlehem Steel were used to make Pig Iron, an intermediary product necessary for Steel production.
      </p>
    </section>
    <section id="BFF">
      <h3>Blast Furnace F</h3>
      <p>
        Blast refers to the method of forcing air to high atmospheric pressure, and having it combust.
      </p>
    </section>
    <section id="BFG">
      <h3>Blast Furnace G</h3>
      <p>
        In addition to the heating method, blast furnaces require raw material, in this case, iron ore.
      </p>
    </section>
    <section id="BFH">
      <h3>Blast Furnace H</h3>
      <p>
        Fuel is also used to heat the air and cause it to combust. In these blast furnaces, Coke is used.
      </p>
    </section>
    <section id="BFJ">
      <h3>Blast Furnace J</h3>
      <p>
        The final necessary component in this process is flux, or a cleaning agent. The process of refining pig iron uses limestone.
      </p>
    </section>
    <section id="CO56">
      <h3>Coke Oven Battery 5 & 6</h3>
      <p>
        Coke is a hard, porous fuel made primarily by heating coal or oil.
      </p>
    </section>
    <section id="CO234">
      <h3>Coke Oven Battery 2, 3, & 4</h3>
      <p>
        In order to produce its own pig iron, the Bethlehem Steel Plant added its own Coke Oven Batteries to produce the appropriate type of fuel.
      </p>
    </section>
    <section id="CO9">
      <h3>Coke Oven Battery 9</h3>
      <p>
        The process of superheating coal or oil is a process known as detructive distillation, or in other words, accelerated decomposition.
      </p>
    </section>
    <section id="CO78">
      <h3>Coke Oven Battery 7 & 8</h3>
      <p>
        Once the coke is produced in the plant's nine oven batteries, the coke is sent to the blast furnaces to produce pig iron.
      </p>
    </section>
    <section id="LP">
      <h3>Lime Plant</h3>
      <p>
        In order to ensure that the produced pig iron is free from other unwanted agents, such as various oxides, a cleaner, or flux is necessary. Limestone
        is the most commonly used flux material in the steel industry for its efficiency in the process.
      </p>
    </section>
    <section id="LSS">
      <h3>Lime Screening Station</h3>
      <p>
        First, the limestone itself would need to be screened for any impurities in the stone itself that might pollute the blast furnace process.
      </p>
    </section>
    <section id="LSB">
      <h3>Lime Storage Bins</h3>
      <p>
        The lime would then be placed in storage areas until it was needed for us.
      </p>
    </section>
    <section id="THB">
      <h3>Track Hopper Building</h3>
      <p>
        Limestone storage facilities would be connected to mechanical hopper stations, to allow for easy transport across the site to the blast furnaces.
      </p>
    </section>
    <section id="OH2">
      <h3>Open Hearth 2</h3>
      <p>
        An Open Hearth Furnace is used to superheat any excess carbon or other impurities out of pig iron. Steel has a very high melting point, and as such
        is only producable in very specialized furnaces such as this one.
      </p>
    </section>
    <section id="OH3">
      <h3>Open Hearth 3</h3>
      <p>
        This process replaced the Bessemer process to it's improved efficiency, and higher quality steel. The Bethlehem Steel Plant had three Open Hearth Furnaces
        over the course of its lifetime, but the first was repurposed into other facilities.
      </p>
    </section>
    <section id="BEH2">
      <h3>Blowing Engine House 2</h3>
      <p>
        Blowing Engines are large internal combustion engines that are paired with air pumping cylinders. The steel smelting process requires a very large
        quantity of rapidly moving air, and these engines were a very good way to achieve these conditions.
      </p>
    </section>
    <section id="BE3">
      <h3>Blowing Engine House 3</h3>
      <p>
        Several large buildings were constructed to house numerous blowing engines. These were usually located very close to other blast furnaces and
        the open hearths, in order to readily supply them with sufficient air flow.
      </p>
    </section>
    <section id="PS">
      <h3>Pattern Storage</h3>
      <p>
        -----
      </p>
    </section>
    <section id="PH2">
      <h3>Power House 2</h3>
      <p>
        -----
      </p>
    </section>
    <section id="BH5">
      <h3>Boiler House 5</h3>
      <p>
        -----
      </p>
    </section>
    <section id="CS">
      <h3>Card Shop</h3>
      <p>
        -----
      </p>
    </section>
    <section id="Ga">
      <h3>Garage</h3>
      <p>
        -----
      </p>
    </section>
    <section id="Pr">
      <h3>Precipitators</h3>
      <p>
        -----
      </p>
    </section>
    <section id="NO">
      <h3>North Office</h3>
      <p>
        -----
      </p>
    </section>
    <section id="Cl">
      <h3>Clinic</h3>
      <p>
        -----
        </thead>
      </p>
    </section>
    <section id="FH">
      <h3>Fire House</h3>
      <p>
        -----
      </p>
    </section>
    <section id="SR">
      <h3>Structural Repair</h3>
      <p>
        -----
      </p>
    </section>
    <section id="RS2">
      <h3>Roll Shop</h3>
      <p>
        -----
      </p>
    </section>
    <section id="PTS">
      <h3>Pipe & Tool Shop</h3>
      <p>
        -----
      </p>
    </section>
    <section id="PlS">
      <h3>Plate Shop</h3>
      <p>
        -----
      </p>
    </section>
    <section id="SH">
      <h3>Store House</h3>
      <p>
        -----
      </p>
    </section>
    <section id="CRS">
      <h3>Crane Repair Shop</h3>
      <p>
        -----
      </p>
    </section>
    <section id="MY2">
      <h3>Mould Yard</h3>
      <p>
        -----
      </p>
    </section>
    <section id="LRS">
      <h3>Ladle Repair Shop</h3>
      <p>
        -----
      </p>
    </section>
    <section id="LH">
      <h3>Ladle House</h3>
      <p>
        -----
      </p>
    </section>
    <section id="Fou">
      <h3>Foundry</h3>
      <p>
        -----
      </p>
    </section>
    <section id="MS">
      <h3>Machine Shop</h3>
      <p>
        -----
      </p>
    </section>
    <section id="FS">
      <h3>Forge Shop</h3>
      <p>
        -----
      </p>
    </section>
    <section id="CSY">
      <h3>Cold Steel Yard</h3>
      <p>
        -----
      </p>
    </section>
    <section id="PF">
      <h3>Pit Furnaces</h3>
      <p>
        -----
      </p>
    </section>
    <section id="S2">
      <h3>Stripper 2</h3>
      <p>
        -----
      </p>
    </section>
    <section id="44BM">
      <h3>44" Blooming Mill</h3>
      <p>
        -----
      </p>
    </section>
    <section id="PH1">
      <h3>Power House 1</h3>
      <p>
        -----
      </p>
    </section>
    <section id="BH">
      <h3>Boiler House</h3>
      <p>
        -----
      </p>
    </section>
    <section id="30.21M">
      <h3>30" - 21" Mill</h3>
      <p>
        -----
      </p>
    </section>
    <section id="40BM">
      <h3>40" Blooming Mill</h3>
      <p>
        -----
      </p>
    </section>
    <section id="RM">
      <h3>Rail Mill</h3>
      <p>
        -----
      </p>
    </section>
    <section id="BPB2">
      <h3>Billet Preparation Building 2</h3>
      <p>
        -----
      </p>
    </section>
    <section id="BPB1">
      <h3>Billet Preparation Building 1</h3>
      <p>
        -----
      </p>
    </section>
    <section id="30MRF">
      <h3>30" Mill Reheat Furnace</h3>
      <p>
        -----
      </p>
    </section>
    <section id="RF">
      <h3>Rail Finishing</h3>
      <p>
        -----
      </p>
    </section>
    <section id="SCHB">
      <h3>Slow Cooling (Hot Beds)</h3>
      <p>
        -----
      </p>
    </section>
    <section id="TJ">
      <h3>Thickener J</h3>
      <p>
        -----
      </p>
    </section>
    <section id="PF2">
      <h3>Pit Furnaces 2</h3>
      <p>
        -----
      </p>
    </section>
    <section id="IR">
      <h3>Instant Repair</h3>
      <p>
        -----
      </p>
    </section>
    <section id="54BM">
      <h3>54" Blooming Mill</h3>
      <p>
        -----
      </p>
    </section>
    <section id="MR">
      <h3>Motor Room</h3>
      <p>
        -----
      </p>
    </section>
    <section id="FB">
      <h3>Furnace Building</h3>
      <p>
        -----
      </p>
    </section>
    <section id="MH">
      <h3>Mould Heating</h3>
      <p>
        -----
      </p>
    </section>
    <section id="3528M">
      <h3>35" - 28 Mill</h3>
      <p>
        -----
      </p>
    </section>
    <section id="48SM">
      <h3>48" Structural Mill</h3>
      <p>
        -----
      </p>
    </section>
    <section id="CR14MS">
      <h3>Covered Runways - 14" Mill St.</h3>
      <p>
        -----
      </p>
    </section>
    <section id="HB">
      <h3>Hot Beds</h3>
      <p>
        -----
      </p>
    </section>
    <section id="RS">
      <h3>Roll Shop</h3>
      <p>
        -----
      </p>
    </section>
    <section id="SS1">
      <h3>Substation 1</h3>
      <p>
        -----
      </p>
    </section>
    <section id="WFS2">
      <h3>Welfare & Feeding Station 2</h3>
      <p>
        -----
      </p>
    </section>
    <section id="PH">
      <h3>Pump House</h3>
      <p>
        -----
      </p>
    </section>
    <section id="CT">
      <h3>Cooling Towers</h3>
      <p>
        -----
      </p>
    </section>
    <section id="Th">
      <h3>Thickeners</h3>
      <p>
        -----
      </p>
    </section>
    <section id="Si">
      <h3>Sintering</h3>
      <p>
        -----
      </p>
    </section>
    <section id="TH">
      <h3>Thaw House</h3>
      <p>
        -----
      </p>
    </section>
    <section id="MP">
      <h3>Mold Protection</h3>
      <p>
        -----
      </p>
    </section>
    <section id="SB3">
      <h3>Stripper Building 3</h3>
      <p>
        -----
      </p>
    </section>
    <section id="MY">
      <h3>Mould Yard</h3>
      <p>
        -----
      </p>
    </section>
    <section id="MWP">
      <h3>Mould Warming & Prep</h3>
      <p>
        -----
      </p>
    </section>
    <section id="YO">
      <h3>Yardmaster's Office</h3>
      <p>
        -----
      </p>
    </section>
    <section id="MWB">
      <h3>Mould Warming Building</h3>
      <p>
        -----
      </p>
    </section>
    <section id="BOF">
      <h3>Basic Oxigen Furnace</h3>
      <p>
        -----
      </p>
    </section>
    <section id="TAFASA">
      <h3>Teeming Aisle, Furnace Aisle, & Scrap Aisle</h3>
      <p>
        -----
      </p>
    </section>
    <section id="SSY">
      <h3>Structural Shipping Yard</h3>
      <p>
        -----
      </p>
    </section>
    <section id="EO">
      <h3>East Office</h3>
      <p>
        -----
      </p>
    </section>
    <section id="RO">
      <h3>Reclamation Office</h3>
      <p>
        -----
      </p>
    </section>
    <section id="SBRR">
      <h3>South Buffalo Railroad</h3>
      <p>
        -----
      </p>
    </section>
    <section id="PMB">
      <h3>Precious Metals Building</h3>
      <p>
        -----
      </p>
    </section>
    <section id="WSS">
      <h3>Welding Shop Storage</h3>
      <p>
        -----
      </p>
    </section>
    <section id="We">
      <h3>Welfare</h3>
      <p>
        -----
      </p>
    </section>
    <section id="SDR">
      <h3>Scrap Drop Runway</h3>
      <p>
        -----
      </p>
    </section>
    <section id="StB">
      <h3>Stripper Building</h3>
      <p>
        -----
      </p>
    </section>
    <section id="YOf">
      <h3>Yard Office</h3>
      <p>
        -----
      </p>
    </section>
    <section id="ES">
      <h3>Electric Storage</h3>
      <p>
        -----
      </p>
    </section>
    <section id="BC">
      <h3>Bearing Center</h3>
      <p>
        -----
      </p>
    </section>
    <section id="PFB">
      <h3>Pit Furnace Building</h3>
      <p>
        -----
      </p>
    </section>
    <section id="SY">
      <h3>Scrap Yard</h3>
      <p>
        -----
      </p>
    </section>
    <section id="SMi">
      <h3>Slabbing Mill</h3>
      <p>
        -----
      </p>
    </section>
    <section id="MoR">
      <h3>Motor Room</h3>
      <p>
        -----
      </p>
    </section>
    <section id="SY12">
      <h3>Slab Yards 1 & 2</h3>
      <p>
        -----
      </p>
    </section>
    <section id="CFM">
      <h3>Cold Finishing Mill</h3>
      <p>
        -----
      </p>
    </section>
    <section id="CSM">
      <h3>Cold Strip Mill</h3>
      <p>
        -----
      </p>
    </section>
    <section id="79HSM">
      <h3>79" Hot Strip Mill</h3>
      <p>
        -----
      </p>
    </section>
    <section id="BM13">
      <h3>Bar Mills 13"</h3>
      <p>
        -----
      </p>
    </section>
    <section id="SPS">
      <h3>Specialty Product Shop"</h3>
      <p>
        -----
      </p>
    </section>
    <section id="BSP2">
      <h3>END</h3>
      <p>
        ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
      </p>
    </section>
    <small id="citation">
      Adapted from
      <a href="http://www.gutenberg.org/files/2346/2346-h/2346-h.htm">Project Gutenberg</a>
    </small>
    </section>
  </div> -->



  // Start Locations

  <script>
    mapboxgl.accessToken = 'pk.eyJ1IjoiZG1rbGluZ2VyMTIiLCJhIjoiY2t2NzZoMnQxMXI3cjJvbDBpaDZtcDRxMCJ9.MuV__FdHRC7aSMrd-GEJeg';
    const map = new mapboxgl.Map({
      container: 'map',
      style: 'mapbox://styles/mapbox/satellite-streets-v10',
      center: [-78.855636, 42.817095],
      zoom: 13.5,
      bearing: 00,
      pitch: 00,
      antialias: true
    });

    function layer1903Function() {
      var check1903 = document.getElementById('my1903');
      if (check1903.checked == true) {
        map.addLayer(layer1903);
      } else {
        map.removeLayer('1903');
      }
    }

    function layer1924Function() {
      var check1924 = document.getElementById('my1924');
      if (check1924.checked == true) {
        map.addLayer(layer1924);
      } else {
        map.removeLayer('1924');
      }
    }

    function layer1930Function() {
      var check1930 = document.getElementById('my1930');
      if (check1930.checked == true) {
        map.addLayer(layer1930);
      } else {
        map.removeLayer('1930');
      }
    }

    function layer1984Function() {
      var check1984 = document.getElementById('my1984');
      if (check1984.checked == true) {
        map.addLayer(layer1984);
      } else {
        map.removeLayer('1984');
      }
    }

    function layer2021Function() {
      var check2021 = document.getElementById('my2021');
      if (check2021.checked == true) {
        map.addLayer(layer2021);
      } else {
        map.removeLayer('2021');
      }
    }

    function FreeCam() {
      var checkFreeCam = document.getElementById('FreeCam');
      if (checkFreeCam.checked == true) {

      }
    }

    function UpdateInfo() {
      switch(activeChapterName) {
        case 'BSP':
          document.getElementById("MapLocationName").innerText="dsgsds";
          document.getElementById("MapLocationDesc").innerText="";
          break;
          case 'BFF':
            document.getElementById("MapLocationName").innerText="dsgsds";
            document.getElementById("MapLocationDesc").innerText="";
            break;
      }
    }

    function PreviousSection() {
      console.log(activeChapterName);
      switch(activeChapterName) {
        case 'BSP':
          setActiveChapter('BFF');
          break;
        case 'BFF':
          setActiveChapter('BSP');
          break;
      }
    }

    function NextSection() {
      console.log(activeChapterName);
      switch(activeChapterName) {
        case 'BSP':
          setActiveChapter('BFF');
          break;
        case 'BFF':
          setActiveChapter('BSP');
          break;
      }
    }

    function iconFunction() {
      var checkIcon = document.getElementById('myIcon');
      if (checkIcon.checked == true) {
        marker.addTo(map);
        marker1.addTo(map);
        marker2.addTo(map);
        marker3.addTo(map);
        marker4.addTo(map);
        marker5.addTo(map);
        marker6.addTo(map);
        marker7.addTo(map);
        marker8.addTo(map);
        marker9.addTo(map);
        marker10.addTo(map);
        marker11.addTo(map);
        marker12.addTo(map);
        marker13.addTo(map);
        marker14.addTo(map);
        marker15.addTo(map);
        marker16.addTo(map);
        marker17.addTo(map);
        marker18.addTo(map);
        marker19.addTo(map);
        marker20.addTo(map);
        marker21.addTo(map);
        marker22.addTo(map);
        marker23.addTo(map);
        marker24.addTo(map);
        marker25.addTo(map);
        marker26.addTo(map);
        marker27.addTo(map);
        marker28.addTo(map);
        marker29.addTo(map);
        marker30.addTo(map);
        marker31.addTo(map);
        marker32.addTo(map);
        marker33.addTo(map);
        marker34.addTo(map);
        marker35.addTo(map);
        marker36.addTo(map);
        marker37.addTo(map);
        marker38.addTo(map);
        marker39.addTo(map);
        marker40.addTo(map);
        marker41.addTo(map);
        marker42.addTo(map);
        marker43.addTo(map);
        marker44.addTo(map);
        marker45.addTo(map);
        marker46.addTo(map);
        marker47.addTo(map);
        marker48.addTo(map);
        marker49.addTo(map);
        marker50.addTo(map);
        marker51.addTo(map);
        marker52.addTo(map);
        marker53.addTo(map);
        marker54.addTo(map);
        marker55.addTo(map);
        marker56.addTo(map);
        marker57.addTo(map);
        marker58.addTo(map);
        marker59.addTo(map);
        marker60.addTo(map);
        marker61.addTo(map);
        marker62.addTo(map);
        marker63.addTo(map);
        marker64.addTo(map);
        marker65.addTo(map);
        marker66.addTo(map);
        marker67.addTo(map);
        marker68.addTo(map);
        marker69.addTo(map);
        marker70.addTo(map);
        marker71.addTo(map);
        marker72.addTo(map);
        marker73.addTo(map);
        marker74.addTo(map);
        marker75.addTo(map);
        marker76.addTo(map);
        marker77.addTo(map);
        marker78.addTo(map);
        marker79.addTo(map);
        marker80.addTo(map);
        marker81.addTo(map);
        marker82.addTo(map);
        marker83.addTo(map);
        marker84.addTo(map);
        marker85.addTo(map);
        marker86.addTo(map);
        marker87.addTo(map);
        marker88.addTo(map);
        marker89.addTo(map);
        marker90.addTo(map);
        marker91.addTo(map);
        marker92.addTo(map);
        marker93.addTo(map);
        marker94.addTo(map);
        marker95.addTo(map);
        marker96.addTo(map);
        marker97.addTo(map);
        marker98.addTo(map);
        marker99.addTo(map);
        marker100.addTo(map);
        marker101.addTo(map);
      } else {
        marker.remove();
        marker1.remove();
        marker2.remove();
        marker3.remove();
        marker4.remove();
        marker5.remove();
        marker6.remove();
        marker7.remove();
        marker8.remove();
        marker9.remove();
        marker10.remove();
        marker11.remove();
        marker12.remove();
        marker13.remove();
        marker14.remove();
        marker15.remove();
        marker16.remove();
        marker17.remove();
        marker18.remove();
        marker19.remove();
        marker20.remove();
        marker21.remove();
        marker22.remove();
        marker23.remove();
        marker24.remove();
        marker25.remove();
        marker26.remove();
        marker27.remove();
        marker28.remove();
        marker29.remove();
        marker30.remove();
        marker31.remove();
        marker32.remove();
        marker33.remove();
        marker34.remove();
        marker35.remove();
        marker36.remove();
        marker37.remove();
        marker38.remove();
        marker39.remove();
        marker40.remove();
        marker41.remove();
        marker42.remove();
        marker43.remove();
        marker44.remove();
        marker45.remove();
        marker46.remove();
        marker47.remove();
        marker48.remove();
        marker49.remove();
        marker50.remove();
        marker51.remove();
        marker52.remove();
        marker53.remove();
        marker54.remove();
        marker55.remove();
        marker56.remove();
        marker57.remove();
        marker58.remove();
        marker59.remove();
        marker60.remove();
        marker61.remove();
        marker62.remove();
        marker63.remove();
        marker64.remove();
        marker65.remove();
        marker66.remove();
        marker67.remove();
        marker68.remove();
        marker69.remove();
        marker70.remove();
        marker71.remove();
        marker72.remove();
        marker73.remove();
        marker74.remove();
        marker75.remove();
        marker76.remove();
        marker77.remove();
        marker78.remove();
        marker79.remove();
        marker80.remove();
        marker81.remove();
        marker82.remove();
        marker83.remove();
        marker84.remove();
        marker85.remove();
        marker86.remove();
        marker87.remove();
        marker88.remove();
        marker89.remove();
        marker90.remove();
        marker91.remove();
        marker92.remove();
        marker93.remove();
        marker94.remove();
        marker95.remove();
        marker96.remove();
        marker97.remove();
        marker98.remove();
        marker99.remove();
        marker100.remove();
        marker101.remove();
      }
    }

    //3D Building Layers

    const modelOrigin = [-78.855636, 42.817095];
    const modelAltitude = 0;
    const modelRotate = [Math.PI / 2, 0, 0];

    const modelAsMercatorCoordinate = mapboxgl.MercatorCoordinate.fromLngLat(modelOrigin, modelAltitude);

    const modelTransform = {
      translateX: modelAsMercatorCoordinate.x,
      translateY: modelAsMercatorCoordinate.y,
      translateZ: modelAsMercatorCoordinate.z,
      rotateX: modelRotate[0],
      rotateY: modelRotate[1],
      rotateZ: modelRotate[2],
      scale: modelAsMercatorCoordinate.meterInMercatorCoordinateUnits()
    };

    const THREE = window.THREE;

    // Layer 1 - 1903
    const layer1903 = {
      id: '1903',
      type: 'custom',
      renderingMode: '3d',
      onAdd: function (map, gl) {
        this.camera = new THREE.Camera();
        this.scene = new THREE.Scene();

        // create two three.js lights to illuminate the model
        const directionalLight = new THREE.DirectionalLight(0xffffff);
        directionalLight.position.set(0, -70, 100).normalize();
        this.scene.add(directionalLight);
        //
        const directionalLight2 = new THREE.DirectionalLight(0xffffff);
        directionalLight2.position.set(0, 200, 100).normalize();
        this.scene.add(directionalLight2);

        // use the three.js GLTF loader to add the 3D model to the three.js scene
        const loader = new THREE.GLTFLoader();

        loader.load(
          '1903.gltf',
          (gltf) => {
            this.scene.add(gltf.scene);
          }
        );

        this.map = map;

        // use the Mapbox GL JS map canvas for three.js
        this.renderer = new THREE.WebGLRenderer({
          canvas: map.getCanvas(),
          context: gl,
          antialias: true
        });

        this.renderer.autoClear = false;
      },
      render: function (gl, matrix) {
        const rotationX = new THREE.Matrix4().makeRotationAxis(
          new THREE.Vector3(1, 0, 0),
          modelTransform.rotateX
        );
        const rotationY = new THREE.Matrix4().makeRotationAxis(
          new THREE.Vector3(0, 1, 0),
          modelTransform.rotateY
        );
        const rotationZ = new THREE.Matrix4().makeRotationAxis(
          new THREE.Vector3(0, 0, 1),
          modelTransform.rotateZ
        );

        const m = new THREE.Matrix4().fromArray(matrix);
        const l = new THREE.Matrix4()
          .makeTranslation(
            modelTransform.translateX,
            modelTransform.translateY,
            modelTransform.translateZ
          )
          .scale(
            new THREE.Vector3(
              modelTransform.scale,
              -modelTransform.scale,
              modelTransform.scale
            )
          )
          .multiply(rotationX)
          .multiply(rotationY)
          .multiply(rotationZ);

        this.camera.projectionMatrix = m.multiply(l);
        this.renderer.resetState();
        this.renderer.render(this.scene, this.camera);
        this.map.triggerRepaint();
      }
    };

    // Layer 2 - 1924
    const layer1924 = {
      id: '1924',
      type: 'custom',
      renderingMode: '3d',
      onAdd: function (map, gl) {
        this.camera = new THREE.Camera();
        this.scene = new THREE.Scene();

        // create two three.js lights to illuminate the model
        const directionalLight = new THREE.DirectionalLight(0xffffff);
        directionalLight.position.set(0, -70, 100).normalize();
        this.scene.add(directionalLight);
        //
        const directionalLight2 = new THREE.DirectionalLight(0xffffff);
        directionalLight2.position.set(0, 200, 100).normalize();
        this.scene.add(directionalLight2);

        // use the three.js GLTF loader to add the 3D model to the three.js scene
        const loader = new THREE.GLTFLoader();

        loader.load(
          '1924.gltf',
          (gltf) => {
            this.scene.add(gltf.scene);
          }
        );

        this.map = map;

        // use the Mapbox GL JS map canvas for three.js
        this.renderer = new THREE.WebGLRenderer({
          canvas: map.getCanvas(),
          context: gl,
          antialias: true
        });

        this.renderer.autoClear = false;
      },
      render: function (gl, matrix) {
        const rotationX = new THREE.Matrix4().makeRotationAxis(
          new THREE.Vector3(1, 0, 0),
          modelTransform.rotateX
        );
        const rotationY = new THREE.Matrix4().makeRotationAxis(
          new THREE.Vector3(0, 1, 0),
          modelTransform.rotateY
        );
        const rotationZ = new THREE.Matrix4().makeRotationAxis(
          new THREE.Vector3(0, 0, 1),
          modelTransform.rotateZ
        );

        const m = new THREE.Matrix4().fromArray(matrix);
        const l = new THREE.Matrix4()
          .makeTranslation(
            modelTransform.translateX,
            modelTransform.translateY,
            modelTransform.translateZ
          )
          .scale(
            new THREE.Vector3(
              modelTransform.scale,
              -modelTransform.scale,
              modelTransform.scale
            )
          )
          .multiply(rotationX)
          .multiply(rotationY)
          .multiply(rotationZ);

        this.camera.projectionMatrix = m.multiply(l);
        this.renderer.resetState();
        this.renderer.render(this.scene, this.camera);
        this.map.triggerRepaint();
      }
    };

    // Layer 3 - 1930
    const layer1930 = {
      id: '1930',
      type: 'custom',
      renderingMode: '3d',
      onAdd: function (map, gl) {
        this.camera = new THREE.Camera();
        this.scene = new THREE.Scene();

        // create two three.js lights to illuminate the model
        const directionalLight = new THREE.DirectionalLight(0xffffff);
        directionalLight.position.set(0, -70, 100).normalize();
        this.scene.add(directionalLight);
        //
        const directionalLight2 = new THREE.DirectionalLight(0xffffff);
        directionalLight2.position.set(0, 200, 100).normalize();
        this.scene.add(directionalLight2);

        // use the three.js GLTF loader to add the 3D model to the three.js scene
        const loader = new THREE.GLTFLoader();

        loader.load(
          '1930.gltf',
          (gltf) => {
            this.scene.add(gltf.scene);
          }
        );

        this.map = map;

        // use the Mapbox GL JS map canvas for three.js
        this.renderer = new THREE.WebGLRenderer({
          canvas: map.getCanvas(),
          context: gl,
          antialias: true
        });

        this.renderer.autoClear = false;
      },
      render: function (gl, matrix) {
        const rotationX = new THREE.Matrix4().makeRotationAxis(
          new THREE.Vector3(1, 0, 0),
          modelTransform.rotateX
        );
        const rotationY = new THREE.Matrix4().makeRotationAxis(
          new THREE.Vector3(0, 1, 0),
          modelTransform.rotateY
        );
        const rotationZ = new THREE.Matrix4().makeRotationAxis(
          new THREE.Vector3(0, 0, 1),
          modelTransform.rotateZ
        );

        const m = new THREE.Matrix4().fromArray(matrix);
        const l = new THREE.Matrix4()
          .makeTranslation(
            modelTransform.translateX,
            modelTransform.translateY,
            modelTransform.translateZ
          )
          .scale(
            new THREE.Vector3(
              modelTransform.scale,
              -modelTransform.scale,
              modelTransform.scale
            )
          )
          .multiply(rotationX)
          .multiply(rotationY)
          .multiply(rotationZ);

        this.camera.projectionMatrix = m.multiply(l);
        this.renderer.resetState();
        this.renderer.render(this.scene, this.camera);
        this.map.triggerRepaint();
      }
    };

    // Layer 4 - 1984
    const layer1984 = {
      id: '1984',
      type: 'custom',
      renderingMode: '3d',
      onAdd: function (map, gl) {
        this.camera = new THREE.Camera();
        this.scene = new THREE.Scene();

        // create two three.js lights to illuminate the model
        const directionalLight = new THREE.DirectionalLight(0xffffff);
        directionalLight.position.set(0, -70, 100).normalize();
        this.scene.add(directionalLight);
        //
        const directionalLight2 = new THREE.DirectionalLight(0xffffff);
        directionalLight2.position.set(0, 200, 100).normalize();
        this.scene.add(directionalLight2);

        // use the three.js GLTF loader to add the 3D model to the three.js scene
        const loader = new THREE.GLTFLoader();

        loader.load(
          '1984.gltf',
          (gltf) => {
            this.scene.add(gltf.scene);
          }
        );

        this.map = map;

        // use the Mapbox GL JS map canvas for three.js
        this.renderer = new THREE.WebGLRenderer({
          canvas: map.getCanvas(),
          context: gl,
          antialias: true
        });

        this.renderer.autoClear = false;
      },
      render: function (gl, matrix) {
        const rotationX = new THREE.Matrix4().makeRotationAxis(
          new THREE.Vector3(1, 0, 0),
          modelTransform.rotateX
        );
        const rotationY = new THREE.Matrix4().makeRotationAxis(
          new THREE.Vector3(0, 1, 0),
          modelTransform.rotateY
        );
        const rotationZ = new THREE.Matrix4().makeRotationAxis(
          new THREE.Vector3(0, 0, 1),
          modelTransform.rotateZ
        );

        const m = new THREE.Matrix4().fromArray(matrix);
        const l = new THREE.Matrix4()
          .makeTranslation(
            modelTransform.translateX,
            modelTransform.translateY,
            modelTransform.translateZ
          )
          .scale(
            new THREE.Vector3(
              modelTransform.scale,
              -modelTransform.scale,
              modelTransform.scale
            )
          )
          .multiply(rotationX)
          .multiply(rotationY)
          .multiply(rotationZ);

        this.camera.projectionMatrix = m.multiply(l);
        this.renderer.resetState();
        this.renderer.render(this.scene, this.camera);
        this.map.triggerRepaint();
      }
    };

    // Layer 5 - 2021
    const layer2021 = {
      id: '2021',
      type: 'custom',
      renderingMode: '3d',
      onAdd: function (map, gl) {
        this.camera = new THREE.Camera();
        this.scene = new THREE.Scene();

        // create two three.js lights to illuminate the model
        const directionalLight = new THREE.DirectionalLight(0xffffff);
        directionalLight.position.set(0, -70, 100).normalize();
        this.scene.add(directionalLight);
        //
        const directionalLight2 = new THREE.DirectionalLight(0xffffff);
        directionalLight2.position.set(0, 200, 100).normalize();
        this.scene.add(directionalLight2);

        // use the three.js GLTF loader to add the 3D model to the three.js scene
        const loader = new THREE.GLTFLoader();

        loader.load(
          '2021.gltf',
          (gltf) => {
            this.scene.add(gltf.scene);
          }
        );

        this.map = map;

        // use the Mapbox GL JS map canvas for three.js
        this.renderer = new THREE.WebGLRenderer({
          canvas: map.getCanvas(),
          context: gl,
          antialias: true
        });

        this.renderer.autoClear = false;
      },
      render: function (gl, matrix) {
        const rotationX = new THREE.Matrix4().makeRotationAxis(
          new THREE.Vector3(1, 0, 0),
          modelTransform.rotateX
        );
        const rotationY = new THREE.Matrix4().makeRotationAxis(
          new THREE.Vector3(0, 1, 0),
          modelTransform.rotateY
        );
        const rotationZ = new THREE.Matrix4().makeRotationAxis(
          new THREE.Vector3(0, 0, 1),
          modelTransform.rotateZ
        );

        const m = new THREE.Matrix4().fromArray(matrix);
        const l = new THREE.Matrix4()
          .makeTranslation(
            modelTransform.translateX,
            modelTransform.translateY,
            modelTransform.translateZ
          )
          .scale(
            new THREE.Vector3(
              modelTransform.scale,
              -modelTransform.scale,
              modelTransform.scale
            )
          )
          .multiply(rotationX)
          .multiply(rotationY)
          .multiply(rotationZ);

        this.camera.projectionMatrix = m.multiply(l);
        this.renderer.resetState();
        this.renderer.render(this.scene, this.camera);
        this.map.triggerRepaint();
      }
    };

    // Camera Rotation Settings

    // function rotateCamera(timestamp, varCenter, varDuration, varZoom, varPitch) {
    //   map.rotateTo(timestamp, { center: varCenter, duration: varDuration, zoom: varZoom, pitch: varPitch });
    // }

    function rotateCamera(timestamp, varCenter, varDuration, varZoom, varPitch) {
      map.rotateTo(timestamp, {duration: varDuration, zoom: varZoom, pitch: varPitch });
    }

    map.on('load', () => {
      rotatetest = 120;
      rotateCamera(120, [-78.855636, 42.817095], 10000, 13.5, 00);
      //setActiveChapter('BSP');
    })

    map.on('style.load', () => {
      map.addLayer(layer1903);
      map.addLayer(layer1924);
      map.addLayer(layer1930);
      map.addLayer(layer1984);
      map.addLayer(layer2021);
    });

    // Coordinates of all Markers

    //PS - Pattern Storage
    const marker = new mapboxgl.Marker()
      .setLngLat([-78.859511, 42.832552])
      .addTo(map);

    //PH2 - Powr House 2
    const marker1 = new mapboxgl.Marker()
      .setLngLat([-78.859534, 42.831993])
      .addTo(map);

    //BH - Boiler House
    const marker2 = new mapboxgl.Marker()
      .setLngLat([-78.858959, 42.831803])
      .addTo(map);

    //CS - Card Shop
    const marker3 = new mapboxgl.Marker()
      .setLngLat([-78.858021, 42.832099])
      .addTo(map);

    //Ga - Garage
    const marker4 = new mapboxgl.Marker()
      .setLngLat([-78.855733, 42.832302])
      .addTo(map);

    //Pr - Precipitators
    const marker5 = new mapboxgl.Marker()
      .setLngLat([-78.859777, 42.831407])
      .addTo(map);

    //NO - North Office
    const marker6 = new mapboxgl.Marker()
      .setLngLat([-78.854174, 42.831749])
      .addTo(map);

    //Cl - Clinic
    const marker7 = new mapboxgl.Marker()
      .setLngLat([-78.854022, 42.831196])
      .addTo(map);

    //FH - Fire House
    const marker8 = new mapboxgl.Marker()
      .setLngLat([-78.85340, 42.83058])
      .addTo(map);

    //SR - Structural Repair
    const marker9 = new mapboxgl.Marker()
      .setLngLat([-78.853891, 42.830110])
      .addTo(map);

    //RS2 - Roll Shop
    const marker10 = new mapboxgl.Marker()
      .setLngLat([-78.854422, 42.829813])
      .addTo(map);

    //PTS - Pipe & Tool Shop
    const marker11 = new mapboxgl.Marker()
      .setLngLat([-78.854852, 42.829651])
      .addTo(map);

    //PlS - Plate Shop
    const marker12 = new mapboxgl.Marker()
      .setLngLat([-78.855324, 42.829537])
      .addTo(map);

    //SH - Store House
    const marker13 = new mapboxgl.Marker()
      .setLngLat([-78.855320, 42.830915])
      .addTo(map);

    //CRS - Crane Repair Shop
    const marker14 = new mapboxgl.Marker()
      .setLngLat([-78.855943, 42.830739])
      .addTo(map);

    //MY2 - Mould Yard
    const marker15 = new mapboxgl.Marker()
      .setLngLat([-78.856331, 42.830091])
      .addTo(map);

    //OH2 - Open Hearth 2
    const marker16 = new mapboxgl.Marker()
      .setLngLat([-78.856627, 42.829349])
      .addTo(map);

    //LRS - Ladle Repair Shop
    const marker17 = new mapboxgl.Marker()
      .setLngLat([-78.858315, 42.829962])
      .addTo(map);

    //LH - Ladle House
    const marker18 = new mapboxgl.Marker()
      .setLngLat([-78.858018, 42.829264])
      .addTo(map);

    //BFB - Blast Furnace B
    const marker19 = new mapboxgl.Marker()
      .setLngLat([-78.858974, 42.830144])
      .addTo(map);

    //BFC - Blast Furnace C
    const marker20 = new mapboxgl.Marker()
      .setLngLat([-78.858161, 42.828411])
      .addTo(map);

    //Fou - Foundry
    const marker21 = new mapboxgl.Marker()
      .setLngLat([-78.855337, 42.827995])
      .addTo(map);

    //MS - Machine Shop
    const marker22 = new mapboxgl.Marker()
      .setLngLat([-78.854634, 42.828076])
      .addTo(map);

    //FS - Forge Shop
    const marker23 = new mapboxgl.Marker()
      .setLngLat([-78.854280, 42.828293])
      .addTo(map);

    //CSY - Cold Steel Yard
    const marker24 = new mapboxgl.Marker()
      .setLngLat([-78.852960, 42.827386])
      .addTo(map);

    //PF - Pit Furnaces
    const marker25 = new mapboxgl.Marker()
      .setLngLat([-78.854423, 42.825987])
      .addTo(map);

    //S2 - Stripper 2
    const marker26 = new mapboxgl.Marker()
      .setLngLat([-78.855116, 42.826712])
      .addTo(map);

    //44BM - 44" Blooming Mill
    const marker27 = new mapboxgl.Marker()
      .setLngLat([-78.854993, 42.825599])
      .addTo(map);

    //PH1 - Power House 1
    const marker28 = new mapboxgl.Marker()
      .setLngLat([-78.856209, 42.826613])
      .addTo(map);

    //BEH2 - Blowing Engine House 2
    const marker29 = new mapboxgl.Marker()
      .setLngLat([-78.856965, 42.826759])
      .addTo(map);

    //BFF - Blast Furnace F
    const marker30 = new mapboxgl.Marker()
      .setLngLat([-78.857019, 42.825852])
      .addTo(map);

    //BFF - Blast Furnace G
    const marker31 = new mapboxgl.Marker()
      .setLngLat([-78.856472, 42.824670])
      .addTo(map);

    //BH - Boiler House
    const marker32 = new mapboxgl.Marker()
      .setLngLat([-78.856111, 42.825011])
      .addTo(map);

    //30.21 - 30" - 21" Mill
    const marker33 = new mapboxgl.Marker()
      .setLngLat([-78.854681, 42.824600])
      .addTo(map);

    //40BM - 40" Blooming Mill
    const marker34 = new mapboxgl.Marker()
      .setLngLat([-78.853461, 42.824529])
      .addTo(map);

    //RM - Rail Mill
    const marker35 = new mapboxgl.Marker()
      .setLngLat([-78.854449, 42.823945])
      .addTo(map);

    //BPB2 - Billet Preparation Building 2
    const marker36 = new mapboxgl.Marker()
      .setLngLat([-78.851792, 42.822894])
      .addTo(map);

    //BPB1 - Billet Preparation Building 1
    const marker37 = new mapboxgl.Marker()
      .setLngLat([-78.851888, 42.822041])
      .addTo(map);

    //30MRF - 30" Mill Reheat Furnace
    const marker38 = new mapboxgl.Marker()
      .setLngLat([-78.853031, 42.822817])
      .addTo(map);

    //RF - Rail Finishing
    const marker39 = new mapboxgl.Marker()
      .setLngLat([-78.853656, 42.822303])
      .addTo(map);

    //SCHB - Slow Cooling (Hot Beds)
    const marker40 = new mapboxgl.Marker()
      .setLngLat([-78.854156, 42.822391])
      .addTo(map);

    //BE3 - Blowing Engine House 3
    const marker41 = new mapboxgl.Marker()
      .setLngLat([-78.855211, 42.823058])
      .addTo(map);

    //BFH - Blast Furnace H
    const marker42 = new mapboxgl.Marker()
      .setLngLat([-78.855829, 42.823341])
      .addTo(map);

    //BFJ - Blast Furnace J
    const marker43 = new mapboxgl.Marker()
      .setLngLat([-78.855311, 42.822163])
      .addTo(map);

    //TJ - Thickener J
    const marker44 = new mapboxgl.Marker()
      .setLngLat([-78.854809, 42.821973])
      .addTo(map);

    //PF2 - Pit Furnaces 2
    const marker45 = new mapboxgl.Marker()
      .setLngLat([-78.851929, 42.820692])
      .addTo(map);

    //I2 - Instant Repair
    const marker46 = new mapboxgl.Marker()
      .setLngLat([-78.852418, 42.820509])
      .addTo(map);

    //54BM - 54" Bloming Mill
    const marker47 = new mapboxgl.Marker()
      .setLngLat([-78.851651, 42.819693])
      .addTo(map);

    //MR - Motor Room
    const marker48 = new mapboxgl.Marker()
      .setLngLat([-78.850954, 42.819429])
      .addTo(map);

    //FB - Furnace Building
    const marker49 = new mapboxgl.Marker()
      .setLngLat([-78.850320, 42.819763])
      .addTo(map);

    //MH - Mould Heating
    const marker50 = new mapboxgl.Marker()
      .setLngLat([-78.850073, 42.819140])
      .addTo(map);

    //3521M - 35" - 21 Mill
    const marker51 = new mapboxgl.Marker()
      .setLngLat([-78.850804, 42.818658])
      .addTo(map);

    //48SM - 48" Structural Mill
    const marker52 = new mapboxgl.Marker()
      .setLngLat([-78.850450, 42.817739])
      .addTo(map);

    //CR14MS - Covered Runways - 14" Mill St.
    const marker53 = new mapboxgl.Marker()
      .setLngLat([-78.848715, 42.817770])
      .addTo(map);

    //HB - Hot Beds
    const marker54 = new mapboxgl.Marker()
      .setLngLat([-78.850462, 42.816869])
      .addTo(map);

    //RS - Roll Shop
    const marker55 = new mapboxgl.Marker()
      .setLngLat([-78.851519, 42.818229])
      .addTo(map);

    //SS1 - Substation 1
    const marker56 = new mapboxgl.Marker()
      .setLngLat([-78.852149, 42.818357])
      .addTo(map);

    //WFS2 - Welfare & Feeding Station 2
    const marker57 = new mapboxgl.Marker()
      .setLngLat([-78.853159, 42.819277])
      .addTo(map);

    //PH - Pump House
    const marker58 = new mapboxgl.Marker()
      .setLngLat([-78.852717, 42.818203])
      .addTo(map);

    //CT - Cooling Towers
    const marker59 = new mapboxgl.Marker()
      .setLngLat([-78.852875, 42.817638])
      .addTo(map);

    //Th - Thickeners
    const marker60 = new mapboxgl.Marker()
      .setLngLat([-78.853648, 42.818590])
      .addTo(map);

    //Si - Sintering
    const marker61 = new mapboxgl.Marker()
      .setLngLat([-78.854807, 42.818829])
      .addTo(map);

    //TH - Thaw House
    const marker62 = new mapboxgl.Marker()
      .setLngLat([-78.854070, 42.817353])
      .addTo(map);

    //MP - Mold Protection
    const marker63 = new mapboxgl.Marker()
      .setLngLat([-78.854825, 42.817874])
      .addTo(map);

    //SB3 - Stripper Building 3
    const marker64 = new mapboxgl.Marker()
      .setLngLat([-78.855798, 42.818208])
      .addTo(map);

    //CO56 - Coke Over Battery 5 & 6
    const marker65 = new mapboxgl.Marker()
      .setLngLat([-78.860151, 42.823240])
      .addTo(map);

    //CO234 - Coke Over Battery 2, 3, & 4
    const marker66 = new mapboxgl.Marker()
      .setLngLat([-78.861431, 42.826077])
      .addTo(map);

    //CO9 - Coke Over Battery 9
    const marker67 = new mapboxgl.Marker()
      .setLngLat([-78.861764, 42.828112])
      .addTo(map);

    //CO78 - Coke Battery 7 & 8
    const marker68 = new mapboxgl.Marker()
      .setLngLat([-78.862844, 42.829187])
      .addTo(map);

    //MY - Mould Yard
    const marker69 = new mapboxgl.Marker()
      .setLngLat([-78.855499, 42.817187])
      .addTo(map);

    //MWP - Mould Warming & Prep
    const marker70 = new mapboxgl.Marker()
      .setLngLat([-78.853617, 42.815199])
      .addTo(map);

    //OH3 - Open Hearth 3
    const marker71 = new mapboxgl.Marker()
      .setLngLat([-78.854529, 42.814975])
      .addTo(map);

    //YO - Yardmaster's Office
    const marker72 = new mapboxgl.Marker()
      .setLngLat([-78.857021, 42.814315])
      .addTo(map);

    //LP - Lime Plant
    const marker73 = new mapboxgl.Marker()
      .setLngLat([-78.856217, 42.812699])
      .addTo(map);

    //MWB - Mould Warming Building
    const marker74 = new mapboxgl.Marker()
      .setLngLat([-78.852869, 42.813304])
      .addTo(map);

    //BOF - Basic Oxigen Furnace
    const marker75 = new mapboxgl.Marker()
      .setLngLat([-78.851787, 42.813656])
      .addTo(map);

    //TAFASA - Teeming Aisle, Furnace Aisle, & Scrap Aisle
    const marker76 = new mapboxgl.Marker()
      .setLngLat([-78.850712, 42.811800])
      .addTo(map);

    //SSY - Structural Shipping Yard
    const marker77 = new mapboxgl.Marker()
      .setLngLat([-78.848820, 42.815917])
      .addTo(map);

    //EO - East Office
    const marker78 = new mapboxgl.Marker()
      .setLngLat([-78.845215, 42.815085])
      .addTo(map);

    //RO - Reclamation Office
    const marker79 = new mapboxgl.Marker()
      .setLngLat([-78.845085, 42.814356])
      .addTo(map);

    //SBRR - South Buffalo Railroad
    const marker80 = new mapboxgl.Marker()
      .setLngLat([-78.845995, 42.812178])
      .addTo(map);

    //PMB - Precious Metals Building
    const marker81 = new mapboxgl.Marker()
      .setLngLat([-78.846808, 42.811110])
      .addTo(map);

    //WSS - Welding Shop Storage
    const marker82 = new mapboxgl.Marker()
      .setLngLat([-78.848834, 42.809874])
      .addTo(map);

    //We - Welfare
    const marker83 = new mapboxgl.Marker()
      .setLngLat([-78.849325, 42.809927])
      .addTo(map);

    //SDR - Scrap Drop Runway
    const marker84 = new mapboxgl.Marker()
      .setLngLat([-78.848247, 42.808274])
      .addTo(map);

    //StB - Stripper Building
    const marker85 = new mapboxgl.Marker()
      .setLngLat([-78.850144, 42.808872])
      .addTo(map);

    //YOf - Yard Office
    const marker86 = new mapboxgl.Marker()
      .setLngLat([-78.852651, 42.810621])
      .addTo(map);

    //LSS - Lime Screening Station
    const marker87 = new mapboxgl.Marker()
      .setLngLat([-78.853281, 42.811461])
      .addTo(map);

    //LSB - Lime Storage Bins
    const marker88 = new mapboxgl.Marker()
      .setLngLat([-78.853530, 42.811621])
      .addTo(map);

    //THB - Track Hopper Building
    const marker89 = new mapboxgl.Marker()
      .setLngLat([-78.853887, 42.811472])
      .addTo(map);

    //ES - Electric Storage
    const marker90 = new mapboxgl.Marker()
      .setLngLat([-78.854043, 42.810282])
      .addTo(map);

    //BC - Bearing Center
    const marker91 = new mapboxgl.Marker()
      .setLngLat([-78.855101, 42.809985])
      .addTo(map);

    //PFB - Pit Furnace Building
    const marker92 = new mapboxgl.Marker()
      .setLngLat([-78.853503, 42.809582])
      .addTo(map);

    //SY - Scrap Yard
    const marker93 = new mapboxgl.Marker()
      .setLngLat([-78.854207, 42.808657])
      .addTo(map);

    //SMi - Slabbing Mill
    const marker94 = new mapboxgl.Marker()
      .setLngLat([-78.853367, 42.809186])
      .addTo(map);

    //MoR - Motor Room
    const marker95 = new mapboxgl.Marker()
      .setLngLat([-78.853184, 42.808148])
      .addTo(map);

    //SY12 - Slab Yards 1 & 2
    const marker96 = new mapboxgl.Marker()
      .setLngLat([-78.851772, 42.808315])
      .addTo(map);

    //CFM - Cold Finishing Mill
    const marker97 = new mapboxgl.Marker()
      .setLngLat([-78.844346, 42.808554])
      .addTo(map);

    //CSM - Cold Strip Mill
    const marker98 = new mapboxgl.Marker()
      .setLngLat([-78.843900, 42.808198])
      .addTo(map);

    //79HSM - 79" Hot Strip Mill
    const marker99 = new mapboxgl.Marker()
      .setLngLat([-78.843074, 42.807282])
      .addTo(map);

    //BM13 - Bar Mills 13"
    const marker100 = new mapboxgl.Marker()
      .setLngLat([-78.842364, 42.806144])
      .addTo(map);

    //SPS - Specialty Product Shop
    const marker101 = new mapboxgl.Marker()
      .setLngLat([-78.847694, 42.802135])
      .addTo(map);

    // Camera Settings for Coordinates

    const chapters = {
      'BSP': {
        duration: 2500,
        bearing: 0,
        center: [-78.855636, 42.817095],
        zoom: 13.5,
        pitch: 00
      },
      'BFB': {
        duration: 2500,
        bearing: 0,
        center: [-78.858974, 42.830144],
        zoom: 17,
        pitch: 00
      },
      'BFC': {
        duration: 2500,
        bearing: 0,
        center: [-78.858161, 42.828411],
        zoom: 17,
        pitch: 00
      },
      'BFF': {
        duration: 2500,
        bearing: 0,
        center: [-78.857019, 42.825852],
        zoom: 17,
        pitch: 00
      },
      'BFG': {
        duration: 2500,
        bearing: 0,
        center: [-78.856472, 42.824670],
        zoom: 17,
        pitch: 00
      },
      'BFH': {
        duration: 2500,
        bearing: 0,
        center: [-78.855829, 42.823341],
        zoom: 17,
        pitch: 00
      },
      'BFJ': {
        duration: 2500,
        bearing: 0,
        center: [-78.855311, 42.822163],
        zoom: 17,
        pitch: 00
      },
      'CO56': {
        duration: 2500,
        bearing: 0,
        center: [-78.860151, 42.823240],
        zoom: 17,
        pitch: 00
      },
      'CO234': {
        duration: 2500,
        bearing: 0,
        center: [-78.861431, 42.826077],
        zoom: 17,
        pitch: 00
      },
      'CO9': {
        duration: 2500,
        bearing: 0,
        center: [-78.861764, 42.828112],
        zoom: 17,
        pitch: 00
      },
      'CO78': {
        duration: 2500,
        bearing: 0,
        center: [-78.862844, 42.829187],
        zoom: 17,
        pitch: 00
      },
      'LP': {
        duration: 2500,
        bearing: 0,
        center: [-78.856217, 42.812699],
        zoom: 17,
        pitch: 00
      },
      'LSS': {
        duration: 2500,
        bearing: 0,
        center: [-78.853281, 42.811461],
        zoom: 17,
        pitch: 00
      },
      'LSB': {
        duration: 2500,
        bearing: 0,
        center: [-78.853530, 42.811621],
        zoom: 17,
        pitch: 00
      },
      'THB': {
        duration: 2500,
        bearing: 0,
        center: [-78.853887, 42.811472],
        zoom: 17,
        pitch: 00
      },
      'OH2': {
        duration: 2500,
        bearing: 0,
        center: [-78.856627, 42.829349],
        zoom: 17,
        pitch: 00
      },
      'OH3': {
        duration: 2500,
        bearing: 0,
        center: [-78.854529, 42.814975],
        zoom: 17,
        pitch: 00
      },
      'BEH2': {
        duration: 2500,
        bearing: 0,
        center: [-78.856965, 42.826759],
        zoom: 17,
        pitch: 00
      },
      'BE3': {
        duration: 2500,
        bearing: 0,
        center: [-78.855211, 42.823058],
        zoom: 17,
        pitch: 00
      },
      'PS': {
        duration: 2500,
        bearing: 0,
        center: [-78.859511, 42.832552],
        zoom: 17,
        pitch: 00
      },
      'PH2': {
        duration: 2500,
        center: [-78.859534, 42.831993],
        bearing: 0,
        zoom: 17,
        pitch: 00
      },
      'BH5': {
        duration: 2500,
        bearing: 0,
        center: [-78.858959, 42.831803],
        zoom: 17,
        pitch: 00
      },
      'CS': {
        duration: 2500,
        bearing: 0,
        center: [-78.858021, 42.832099],
        zoom: 17,
        pitch: 00
      },
      'Ga': {
        duration: 2500,
        bearing: 0,
        center: [-78.855733, 42.832302],
        zoom: 17,
        pitch: 00
      },
      'Pr': {
        duration: 2500,
        bearing: 0,
        center: [-78.859777, 42.831407],
        zoom: 17,
        pitch: 0
      },
      'NO': {
        duration: 2500,
        bearing: 0,
        center: [-78.854174, 42.831749],
        zoom: 17,
        pitch: 00
      },
      'Cl': {
        duration: 2500,
        bearing: 0,
        center: [-78.854022, 42.831196],
        zoom: 17,
        pitch: 00
      },
      'FH': {
        duration: 2500,
        bearing: 0,
        center: [-78.85340, 42.83058],
        zoom: 17,
        pitch: 00
      },
      'SR': {
        duration: 2500,
        bearing: 0,
        center: [-78.853891, 42.830110],
        zoom: 17,
        pitch: 00
      },
      'RS2': {
        duration: 2500,
        bearing: 0,
        center: [-78.854422, 42.829813],
        zoom: 17,
        pitch: 00
      },
      'PTS': {
        duration: 2500,
        bearing: 0,
        center: [-78.854852, 42.829651],
        zoom: 17,
        pitch: 00
      },
      'PlS': {
        duration: 2500,
        bearing: 0,
        center: [-78.855324, 42.829537],
        zoom: 17,
        pitch: 00
      },
      'SH': {
        duration: 2500,
        bearing: 0,
        center: [-78.855320, 42.830915],
        zoom: 17,
        pitch: 00
      },
      'CRS': {
        duration: 2500,
        bearing: 0,
        center: [-78.855943, 42.830739],
        zoom: 17,
        pitch: 00
      },
      'MY2': {
        duration: 2500,
        bearing: 0,
        center: [-78.856331, 42.830091],
        zoom: 17,
        pitch: 00
      },
      'LRS': {
        duration: 2500,
        bearing: 0,
        center: [-78.858315, 42.829962],
        zoom: 17,
        pitch: 00
      },
      'LH': {
        duration: 2500,
        bearing: 0,
        center: [-78.858018, 42.829264],
        zoom: 17,
        pitch: 00
      },
      'Fou': {
        duration: 2500,
        bearing: 0,
        center: [-78.855337, 42.827995],
        zoom: 17,
        pitch: 00
      },
      'MS': {
        duration: 2500,
        bearing: 0,
        center: [-78.854634, 42.828076],
        zoom: 17,
        pitch: 00
      },
      'FS': {
        duration: 2500,
        bearing: 0,
        center: [-78.854280, 42.828293],
        zoom: 17,
        pitch: 00
      },
      'CSY': {
        duration: 2500,
        bearing: 0,
        center: [-78.852960, 42.827386],
        zoom: 17,
        pitch: 00
      },
      'PF': {
        duration: 2500,
        bearing: 0,
        center: [-78.854423, 42.825987],
        zoom: 17,
        pitch: 00
      },
      'S2': {
        duration: 2500,
        bearing: 0,
        center: [-78.855116, 42.826712],
        zoom: 17,
        pitch: 00
      },
      '44BM': {
        duration: 2500,
        bearing: 0,
        center: [-78.854993, 42.825599],
        zoom: 17,
        pitch: 00
      },
      'PH1': {
        duration: 2500,
        bearing: 0,
        center: [-78.856209, 42.826613],
        zoom: 17,
        pitch: 00
      },
      'BH': {
        duration: 2500,
        bearing: 0,
        center: [-78.856111, 42.825011],
        zoom: 17,
        pitch: 00
      },
      '30.21M': {
        duration: 2500,
        bearing: 0,
        center: [-78.854681, 42.824600],
        zoom: 17,
        pitch: 00
      },
      '40BM': {
        duration: 2500,
        bearing: 0,
        center: [-78.853461, 42.824529],
        zoom: 17,
        pitch: 00
      },
      'RM': {
        duration: 2500,
        bearing: 0,
        center: [-78.854449, 42.823945],
        zoom: 17,
        pitch: 00
      },
      'BPB2': {
        duration: 2500,
        bearing: 0,
        center: [-78.851792, 42.822894],
        zoom: 17,
        pitch: 00
      },
      'BPB1': {
        duration: 2500,
        bearing: 0,
        center: [-78.851888, 42.822041],
        zoom: 17,
        pitch: 00
      },
      '30MRF': {
        duration: 2500,
        bearing: 0,
        center: [-78.853031, 42.822817],
        zoom: 17,
        pitch: 00
      },
      'RF': {
        duration: 2500,
        bearing: 0,
        center: [-78.853656, 42.822303],
        zoom: 17,
        pitch: 00
      },
      'SCHB': {
        duration: 2500,
        bearing: 0,
        center: [-78.854156, 42.822391],
        zoom: 17,
        pitch: 00
      },
      'TJ': {
        duration: 2500,
        bearing: 0,
        center: [-78.854809, 42.821973],
        zoom: 17,
        pitch: 00
      },
      'PF2': {
        duration: 2500,
        bearing: 0,
        center: [-78.851929, 42.820692],
        zoom: 17,
        pitch: 00
      },
      'IR': {
        duration: 2500,
        bearing: 0,
        center: [-78.852418, 42.820509],
        zoom: 17,
        pitch: 00
      },
      '54BM': {
        duration: 2500,
        bearing: 0,
        center: [-78.851651, 42.819693],
        zoom: 17,
        pitch: 00
      },
      'MR': {
        duration: 2500,
        bearing: 0,
        center: [-78.850954, 42.819429],
        zoom: 17,
        pitch: 00
      },
      'FB': {
        duration: 2500,
        bearing: 0,
        center: [-78.850320, 42.819763],
        zoom: 17,
        pitch: 00
      },
      'MH': {
        duration: 2500,
        bearing: 0,
        center: [-78.850073, 42.819140],
        zoom: 17,
        pitch: 00
      },
      '3528M': {
        duration: 2500,
        bearing: 0,
        center: [-78.850804, 42.818658],
        zoom: 17,
        pitch: 00
      },
      '48SM': {
        duration: 2500,
        bearing: 0,
        center: [-78.850450, 42.817739],
        zoom: 17,
        pitch: 00
      },
      'CR14MS': {
        duration: 2500,
        bearing: 0,
        center: [-78.848715, 42.817770],
        zoom: 17,
        pitch: 00
      },
      'HB': {
        duration: 2500,
        bearing: 0,
        center: [-78.850462, 42.816869],
        zoom: 17,
        pitch: 00
      },
      'RS': {
        duration: 2500,
        bearing: 0,
        center: [-78.851519, 42.818229],
        zoom: 17,
        pitch: 00
      },
      'SS1': {
        duration: 2500,
        bearing: 0,
        center: [-78.852149, 42.818357],
        zoom: 17,
        pitch: 00
      },
      'WFS2': {
        duration: 2500,
        bearing: 0,
        center: [-78.853159, 42.819277],
        zoom: 17,
        pitch: 00
      },
      'PH': {
        duration: 2500,
        bearing: 0,
        center: [-78.852717, 42.818203],
        zoom: 17,
        pitch: 00
      },
      'CT': {
        duration: 2500,
        bearing: 0,
        center: [-78.852875, 42.817638],
        zoom: 17,
        pitch: 00
      },
      'Th': {
        duration: 2500,
        bearing: 0,
        center: [-78.853648, 42.818590],
        zoom: 17,
        pitch: 00
      },
      'Si': {
        duration: 2500,
        bearing: 0,
        center: [-78.854807, 42.818829],
        zoom: 17,
        pitch: 00
      },
      'TH': {
        duration: 2500,
        bearing: 0,
        center: [-78.854070, 42.817353],
        zoom: 17,
        pitch: 00
      },
      'MP': {
        duration: 2500,
        bearing: 0,
        center: [-78.854825, 42.817874],
        zoom: 17,
        pitch: 00
      },
      'SB3': {
        duration: 2500,
        bearing: 0,
        center: [-78.855798, 42.818208],
        zoom: 17,
        pitch: 00
      },
      'MY': {
        duration: 2500,
        bearing: 0,
        center: [-78.855499, 42.817187],
        zoom: 17,
        pitch: 00
      },
      'MWP': {
        duration: 2500,
        bearing: 0,
        center: [-78.853617, 42.815199],
        zoom: 17,
        pitch: 00
      },
      'YO': {
        duration: 2500,
        bearing: 0,
        center: [-78.857021, 42.814315],
        zoom: 17,
        pitch: 00
      },
      'MWB': {
        duration: 2500,
        bearing: 0,
        center: [-78.852869, 42.813304],
        zoom: 17,
        pitch: 00
      },
      'BOF': {
        duration: 2500,
        bearing: 0,
        center: [-78.851787, 42.813656],
        zoom: 17,
        pitch: 00
      },
      'TAFASA': {
        duration: 2500,
        bearing: 0,
        center: [-78.850712, 42.811800],
        zoom: 17,
        pitch: 00
      },
      'SSY': {
        duration: 2500,
        bearing: 0,
        center: [-78.848820, 42.815917],
        zoom: 17,
        pitch: 00
      },
      'EO': {
        duration: 2500,
        bearing: 0,
        center: [-78.845215, 42.815085],
        zoom: 17,
        pitch: 00
      },
      'RO': {
        duration: 2500,
        bearing: 0,
        center: [-78.845085, 42.814356],
        zoom: 17,
        pitch: 00
      },
      'SBRR': {
        duration: 2500,
        bearing: 0,
        center: [-78.845995, 42.812178],
        zoom: 17,
        pitch: 00
      },
      'PMB': {
        duration: 2500,
        bearing: 0,
        center: [-78.846808, 42.811110],
        zoom: 17,
        pitch: 00
      },
      'WSS': {
        duration: 2500,
        bearing: 0,
        center: [-78.848834, 42.809874],
        zoom: 17,
        pitch: 00
      },
      'We': {
        duration: 2500,
        bearing: 0,
        center: [-78.849325, 42.809927],
        zoom: 17,
        pitch: 00
      },
      'SDR': {
        duration: 2500,
        bearing: 0,
        center: [-78.848247, 42.808274],
        zoom: 17,
        pitch: 00
      },
      'StB': {
        duration: 2500,
        bearing: 0,
        center: [-78.850144, 42.808872],
        zoom: 17,
        pitch: 00
      },
      'YOf': {
        duration: 2500,
        bearing: 0,
        center: [-78.852651, 42.810621],
        zoom: 17,
        pitch: 00
      },
      'ES': {
        duration: 2500,
        bearing: 0,
        center: [-78.854043, 42.810282],
        zoom: 17,
        pitch: 00
      },
      'BC': {
        duration: 2500,
        bearing: 0,
        center: [-78.855101, 42.809985],
        zoom: 17,
        pitch: 00
      },
      'PFB': {
        duration: 2500,
        bearing: 0,
        center: [-78.853503, 42.809582],
        zoom: 17,
        pitch: 00
      },
      'SY': {
        duration: 2500,
        bearing: 0,
        center: [-78.854207, 42.808657],
        zoom: 17,
        pitch: 00
      },
      'SMi': {
        duration: 2500,
        bearing: 0,
        center: [-78.853367, 42.809186],
        zoom: 17,
        pitch: 00
      },
      'MoR': {
        duration: 2500,
        bearing: 0,
        center: [-78.853184, 42.808148],
        zoom: 17,
        pitch: 00
      },
      'SY12': {
        duration: 2500,
        bearing: 0,
        center: [-78.851772, 42.808315],
        zoom: 17,
        pitch: 00
      },
      'CFM': {
        duration: 2500,
        bearing: 0,
        center: [-78.844346, 42.808954],
        zoom: 17,
        pitch: 00
      },
      'CSM': {
        duration: 2500,
        bearing: 0,
        center: [-78.843900, 42.808498],
        zoom: 17,
        pitch: 00
      },
      '79HSM': {
        duration: 2500,
        bearing: 0,
        center: [-78.843074, 42.807982],
        zoom: 17,
        pitch: 00
      },
      'BM13': {
        duration: 2500,
        bearing: 0,
        center: [-78.842364, 42.806844],
        zoom: 17,
        pitch: 00
      },
      'SPS': {
        duration: 2500,
        bearing: 0,
        center: [-78.847694, 42.802135],
        zoom: 17,
        pitch: 00
      },
      'BSP2': {
        duration: 2500,
        bearing: 0,
        center: [-78.855636, 42.817095],
        zoom: 13.5,
        pitch: 00
        }



    };

    var sliderZoom = document.getElementById("myZoom");
    var sliderPitch = document.getElementById("myPitch");
    var sliderDuration = document.getElementById("myDuration");
    // var output = document.getElementById("demo");
    // output.innerHTML = slider.value; // Display the default slider value
    //
    // // Update the current slider value (each time you drag the slider handle)
    // slider.oninput = function() {
    //   output.innerHTML = this.value;
    // }

    // Changes Scroll Point to Active Chapter
    let activeChapterName = 'BSP';
    function setActiveChapter(chapterName) {
      if (chapterName === activeChapterName) return;
      sliderZoom.value = chapters[chapterName].zoom;
      // sliderPitch.value = chapters[chapterName].pitch;
      // sliderDuration.value = chapters[chapterName].Duration;
      map.flyTo(chapters[chapterName]);


      //document.getElementById(chapterName).classList.add('active');
      //document.getElementById(activeChapterName).classList.remove('active');

      activeChapterName = chapterName;
      UpdateInfo();

    }



    // function isElementOnScreen(id) {
    //   const element = document.getElementById(id);
    //   const bounds = element.getBoundingClientRect();
    //   return bounds.top < window.innerHeight && bounds.bottom > 0;
    // }

    // // On every scroll event, check which element is on screen
    // window.onscroll = () => {
    //   for (const chapterName in chapters) {
    //     if (isElementOnScreen(chapterName)) {
    //       setActiveChapter(chapterName);
    //       break;
    //     }
    //   }
    // };

    //Script to Rotate Map

    // map.on('rotateend', () => {
    //   if(rotatetest == 0){
    //     rotateCamera(120,chapters[activeChapterName].center,chapters[activeChapterName].zoom);
    //     rotatetest = 120;
    //   }else if(rotatetest == 120){
    //     rotateCamera(240,chapters[activeChapterName].center,chapters[activeChapterName].zoom);
    //     rotatetest = 240;
    //   }else{
    //     rotateCamera(0,chapters[activeChapterName].center,chapters[activeChapterName].zoom);
    //     rotatetest = 0;
    //   }
    //   });

function autorotate() {
  var checkFreeCam = document.getElementById('FreeCam');
  if (checkFreeCam.checked != true) {
    if (rotatetest == 0) {
      rotateCamera(120, chapters[activeChapterName].center, sliderDuration.value, sliderZoom.value, sliderPitch.value);
      // rotateCamera(120, sliderDuration.value, sliderZoom.value, sliderPitch.value);
      rotatetest = 120;
    } else if (rotatetest == 120) {
      rotateCamera(240, chapters[activeChapterName].center, sliderDuration.value, sliderZoom.value, sliderPitch.value);
      // rotateCamera(240, sliderDuration.value, sliderZoom.value, sliderPitch.value);
      rotatetest = 240;
    } else {
      rotateCamera(0, chapters[activeChapterName].center, sliderDuration.value, sliderZoom.value, sliderPitch.value);
      // rotateCamera(0, sliderDuration.value, sliderZoom.value, sliderPitch.value);
      rotatetest = 0;
    }
  }
}
    map.on('idle', () => {
      autorotate();
    });

    map.on('moveend', () => {
      autorotate();
    });

    // map.on('moveend', () => {
    //   if (rotatetest == 0) {
    //     rotateCamera(120, chapters[activeChapterName].center, sliderDuration.value, sliderZoom.value, sliderPitch.value);
    //     rotatetest = 120;
    //   }
    //
    //
    //
    // });

  </script>

</body>

</html>
